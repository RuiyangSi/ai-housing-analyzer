# 🚀 快速启动指南

## 一、立即启动网站

### 最简单的方式

```bash
cd /Users/ruiyangsi/Desktop/python_house1
./start.sh
```

### 手动启动

```bash
cd /Users/ruiyangsi/Desktop/python_house1
source venv/bin/activate
python app.py
```

### 访问网站

在浏览器中打开：**http://localhost:5001**

---

## 二、网站功能

✅ 已加载三个城市的数据：
- 北京：184,945 条记录
- 厦门：16,874 条记录
- 武汉：119,946 条记录

✅ 提供的分析功能：
- 📊 总体统计（成交量、均价、单价、面积）
- 📅 年度统计（2023、2024、2025）
- 📈 月度价格趋势图
- 🏘️ 区域均价对比（Top 10）
- 📍 详细区域统计表格

---

## 三、添加新城市（3步搞定）

### 例如：添加"深圳"数据

**第1步：修改 process_data.py**

在 `cities` 列表中添加：

```python
{
    'name': '深圳',
    'excel_file': '深圳成交数据.xlsx',
    'output_file': 'data_shenzhen_2023_2025.csv'
}
```

**第2步：处理数据**

```bash
source venv/bin/activate
python process_data.py
```

**第3步：更新 config.json**

在 `cities` 数组中添加：

```json
{
  "name": "深圳",
  "name_en": "shenzhen",
  "data_file": "data_shenzhen_2023_2025.csv",
  "enabled": true
}
```

**完成！** 点击网页上的 "🔄 重新加载配置" 按钮即可看到新城市。

---

## 四、数据文件要求

### Excel 文件必须包含以下列：

| 必需列 | 格式示例 |
|--------|---------|
| 成交日期 | 2023.01.15 |
| 城市 | 北京 |
| 区域 | 朝阳 |
| 商圈 | 国贸 |
| 小区 | 建外SOHO |
| 户型 | 3室2厅 |
| 面积（m²） | 120.5 |
| 挂牌价（万元） | 800 |
| 成交价（万元） | 750 |
| 成交单价（元） | 62241 |

---

## 五、常用命令

### 重新处理数据
```bash
python process_data.py
```

### 启动服务器
```bash
./start.sh
```

### 停止服务器
按 `Ctrl + C`

### 更新 Python 包
```bash
source venv/bin/activate
pip install -r requirements.txt
```

---

## 六、文件说明

| 文件 | 用途 |
|------|------|
| `app.py` | Flask 主程序（后端） |
| `config.json` | 城市数据配置 |
| `process_data.py` | 数据处理脚本 |
| `start.sh` | 启动脚本 |
| `templates/index.html` | 网页模板 |
| `static/css/style.css` | 网页样式 |
| `static/js/main.js` | 前端逻辑 |
| `data_*.csv` | 处理后的数据文件 |

---

## 七、端口被占用怎么办？

如果端口 5001 被占用，修改 `app.py` 最后一行：

```python
app.run(debug=True, host='0.0.0.0', port=5002)  # 改成其他端口
```

---

## 八、问题排查

### 数据加载失败
```bash
# 检查CSV文件是否存在
ls -lh data_*.csv

# 重新处理数据
python process_data.py
```

### 网页显示异常
- 清除浏览器缓存：`Ctrl + Shift + R`（Windows）或 `Cmd + Shift + R`（Mac）
- 查看浏览器控制台：按 `F12`

### 服务器报错
```bash
# 查看详细日志
cat server.log

# 或直接运行看实时输出
python app.py
```

---

## 九、更多帮助

- 📖 详细文档：查看 `README.md`
- 📘 使用指南：查看 `使用指南.md`
- 📕 项目说明：查看 `项目说明.md`

---

**现在就开始使用吧！** 🎉

```bash
./start.sh
```

然后在浏览器访问：http://localhost:5001

